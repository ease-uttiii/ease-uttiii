<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¾é ¼ä¸€è¦§ | ç®¡ç†ç”¨ç”»é¢</title>
    <style>
        /* admin/index.html ã® style ã‚¿ã‚°å†…ã‚’æ›¸ãæ›ãˆ */
:root { --mauve-admin: #8e7a8a; --pink-light: #fdf8f7; --border-color: #eadddd; }
body { font-family: 'Noto Sans JP', sans-serif; background: var(--pink-light); color: #5a4d4d; margin: 0; padding: 10px; }

header { background: var(--mauve-admin); color: white; padding: 20px; text-align: center; border-radius: 0 0 20px 20px; margin: -10px -10px 20px -10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }

.card { background: white; border-radius: 18px; padding: 20px; margin-bottom: 20px; box-shadow: 0 4px 12px rgba(142, 122, 138, 0.1); border: 1px solid var(--border-color); }
.card-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid var(--pink-light); padding-bottom: 12px; margin-bottom: 15px; }
.card-id { font-weight: bold; color: var(--mauve-admin); font-size: 1.1rem; }
.card-date { font-size: 0.8rem; color: #999; }

/* é …ç›®ã”ã¨ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
.info-row { margin-bottom: 12px; display: flex; flex-direction: column; } /* ä¸Šä¸‹ã«é…ç½® */
.label { font-size: 0.75rem; font-weight: bold; color: var(--mauve-admin); margin-bottom: 2px; background: #f4efef; padding: 2px 8px; border-radius: 4px; align-self: flex-start; }
.content { font-size: 1rem; line-height: 1.5; padding-left: 5px; white-space: pre-wrap; word-break: break-all; }

.private-section { margin-top: 15px; padding: 12px; background: #fff5f5; border-radius: 10px; border: 1px dashed #d4a5a5; }
.private-label { color: #d4a5a5; font-size: 0.75rem; font-weight: bold; }
    </style>
</head>
<body>

<header>
    <h1>å±Šã„ãŸãƒ—ãƒ¬ã‚¤ä¾é ¼ä¸€è¦§</h1>
</header>

<div class="list-container" id="list">
    <div class="loading">ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ä¸­...</div>
</div>

<script>
const gasUrl = 'https://script.google.com/macros/s/AKfycbzOS0IUuf_Q-UggnZanN0Kgj4bat_LIH4GliwXz6yUblqqBaOQ5siOfGIrT6VBpzdrW3A/exec'; // â†ã“ã“ã«è²¼ã‚Šä»˜ã‘ï¼

async function loadData() {
    try {
        const response = await fetch(gasUrl);
        const data = await response.json();
        const listDiv = document.getElementById('list');
        listDiv.innerHTML = '';

        if (data.length === 0) {
            listDiv.innerHTML = '<div class="loading">ã¾ã ä¾é ¼ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</div>';
            return;
        }

        data.forEach(row => {
            const card = document.createElement('div');
            card.className = 'card';
            // data.forEach(row => { ... }) ã®ä¸­ã® card.innerHTML ã‚’ã“ã‚Œã«å·®ã—æ›¿ãˆ
card.innerHTML = `
    <div class="card-header">
        <span class="card-id">ğŸ‘¤ ${row[1]}</span>
        <span class="card-date">${new Date(row[0]).toLocaleString('ja-JP')}</span>
    </div>
    <div class="card-body">
        <div class="info-row"><span class="label">ãƒ—ãƒ¬ã‚¤æ—¥æ™‚</span><div class="content">${row[2]}</div></div>
        <div class="info-row"><span class="label">éƒ½é“åºœçœŒ</span><div class="content">${row[3]}</div></div>
        <div class="info-row"><span class="label">ãƒ—ãƒ¬ã‚¤å†…å®¹</span><div class="content">${row[4]}</div></div>
        <div class="info-row"><span class="label">å¸Œæœ›äººæ•°</span><div class="content">${row[5]}äºº</div></div>
        <div class="info-row"><span class="label">ä½¿ç”¨ç©å…·</span><div class="content">${row[6] || 'ãªã—'}</div></div>
        <div class="info-row"><span class="label">æ²è¼‰ç”¨ãƒ¡ãƒ¢</span><div class="content">${row[7] || 'ãªã—'}</div></div>
        <div class="info-row"><span class="label">NGãƒªã‚¹ãƒˆ</span><div class="content">${row[8] || 'ãªã—'}</div></div>
        <div class="info-row"><span class="label">å—æ¤œçµŒé¨“</span><div class="content">${row[9]}</div></div>
        
        <div class="private-section">
            <span class="private-label">âš ï¸ éæ²è¼‰ãƒ¡ãƒ¢ï¼ˆç®¡ç†ç”¨ï¼‰</span>
            <div class="content" style="color:#777; font-size:0.9rem;">${row[10] || 'ãªã—'}</div>
        </div>
    </div>
`;
            listDiv.appendChild(card);
        });
    } catch (e) {
        document.getElementById('list').innerHTML = '<div class="loading">èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚</div>';
    }
}

loadData();
</script>
</body>
</html>