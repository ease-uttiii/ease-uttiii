<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¾é ¼ä¸€è¦§ | ç®¡ç†ç”¨ç”»é¢</title>
    <style>
        /* é …ç›®ã”ã¨ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ã‚ˆã‚Šæ˜ç¢ºã« */
.info-row { 
    margin-bottom: 18px; 
    border-bottom: 1px solid #f0e6e6; 
    padding-bottom: 8px; 
}
.info-row:last-child { border-bottom: none; }

.label { 
    font-size: 0.7rem; 
    font-weight: bold; 
    color: #fff; 
    background: var(--mauve-admin); 
    padding: 2px 10px; 
    border-radius: 50px; 
    display: inline-block;
    margin-bottom: 6px;
    letter-spacing: 0.05em;
}

/* ãƒ—ãƒ¬ã‚¤æ—¥æ™‚ã®å¼·èª¿ */
.datetime-box {
    background: #fff0f0;
    padding: 10px;
    border-radius: 10px;
    border-left: 4px solid #d4a5a5;
    font-weight: bold;
    font-size: 1.1rem;
    color: #4a3a3a;
    margin-bottom: 15px;
}

/* ãƒ•ãƒªãƒ¼ãƒ†ã‚­ã‚¹ãƒˆï¼ˆé•·ã„æ–‡ç« ï¼‰ã®èª­ã¿ã‚„ã™ã• */
.content { 
    font-size: 1rem; 
    line-height: 1.6; 
    color: #333;
    white-space: pre-wrap; 
    word-break: break-all;
    padding: 5px 0;
}

/* æ ã§å›²ã£ã¦ç›®ç«‹ãŸã›ã‚‹ï¼ˆãƒ—ãƒ¬ã‚¤å†…å®¹ã‚„æ²è¼‰ç”¨ãƒ¡ãƒ¢ï¼‰ */
.memo-box {
    background: #fdfdfd;
    border: 1px solid #eee;
    padding: 12px;
    border-radius: 10px;
    margin-top: 5px;
}
    </style>
</head>
<body>

<header>
    <h1>å±Šã„ãŸãƒ—ãƒ¬ã‚¤ä¾é ¼ä¸€è¦§</h1>
</header>

<div class="list-container" id="list">
    <div class="loading">ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ä¸­...</div>
</div>

<script>
const gasUrl = 'https://script.google.com/macros/s/AKfycbzOS0IUuf_Q-UggnZanN0Kgj4bat_LIH4GliwXz6yUblqqBaOQ5siOfGIrT6VBpzdrW3A/exec'; // â†ã“ã“ã«è²¼ã‚Šä»˜ã‘ï¼

async function loadData() {
    try {
        const response = await fetch(gasUrl);
        const data = await response.json();
        const listDiv = document.getElementById('list');
        listDiv.innerHTML = '';

        if (data.length === 0) {
            listDiv.innerHTML = '<div class="loading">ã¾ã ä¾é ¼ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</div>';
            return;
        }

        data.forEach(row => {
            const card = document.createElement('div');
            card.className = 'card';
            // data.forEach(row => { ... }) ã®ä¸­ã® card.innerHTML ã‚’ã“ã‚Œã«å·®ã—æ›¿ãˆ
card.innerHTML = `
    <div class="card-header">
        <span class="card-id">ğŸ‘¤ ${row[1]}</span>
        <span class="card-date">å—ä»˜: ${new Date(row[0]).toLocaleString('ja-JP')}</span>
    </div>
    <div class="card-body">
        <div class="label">ğŸ“… ãƒ—ãƒ¬ã‚¤å¸Œæœ›æ—¥æ™‚</div>
        <div class="datetime-box">${row[2]}</div>

        <div class="info-row">
            <span class="label">ğŸ“ éƒ½é“åºœçœŒ / äººæ•°</span>
            <div class="content"><strong>${row[3]}</strong> ï¼ ${row[5]}å</div>
        </div>

        <div class="info-row">
            <span class="label">ğŸ“ ãƒ—ãƒ¬ã‚¤å†…å®¹</span>
            <div class="memo-box"><div class="content">${row[4]}</div></div>
        </div>

        <div class="info-row">
            <span class="label">ğŸ§¸ ä½¿ç”¨ç©å…·</span>
            <div class="content">${row[6] || 'ãªã—'}</div>
        </div>

        <div class="info-row">
            <span class="label">ğŸ“¢ æ²è¼‰ç”¨ãƒ¡ãƒ¢</span>
            <div class="memo-box"><div class="content">${row[7] || 'ãªã—'}</div></div>
        </div>

        <div class="info-row">
            <span class="label">âŒ NGãƒªã‚¹ãƒˆ</span>
            <div class="content" style="color: #c0392b;">${row[8] || 'ãªã—'}</div>
        </div>

        <div class="info-row">
            <span class="label">ğŸ“ å—æ¤œçµŒé¨“</span>
            <div class="content">${row[9]}</div>
        </div>
        
        <div class="private-section">
            <span class="private-label">âš ï¸ éæ²è¼‰ãƒ¡ãƒ¢ï¼ˆç®¡ç†ç”¨ï¼‰</span>
            <div class="content" style="color:#666; font-size:0.95rem; margin-top:5px; padding:8px; background:rgba(255,255,255,0.5); border-radius:5px;">${row[10] || 'ãªã—'}</div>
        </div>
    </div>
`;
            listDiv.appendChild(card);
        });
    } catch (e) {
        document.getElementById('list').innerHTML = '<div class="loading">èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚</div>';
    }
}

loadData();
</script>
</body>
</html>